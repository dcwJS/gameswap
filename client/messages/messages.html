<div class='row nav head-space-md foot-space-sm' ng-controller='IndexController as index'>
    <div class='col-md-1'></div>
    <a ui-sref='main' class='col-md-2'>GameSwap</a>
    <div class='col-md-5'></div>
    <a class='col-md-1 col-md-offset-2' ng-show='!index.isAuth' ui-sref='signin'>  Sign In  </a>
    <a ng-show='index.isAuth' class='col-md-1' ui-sref='userprofile'>Profile</a>
    <a ng-show='index.isAuth' class='col-md-1' ui-sref='messages'>Messages</a>
    <a ng-show='index.isAuth' class='col-md-1' ng-click="index.signOut()" ui-sref='signin'>Sign Out</a>
  </div>

<section ng-controller='MessagesController as messages'>
  <div class='container-fluid col-md-offset-3 col-md-6'>
      <h3> Pick Room </h3>

    <div ng-repeat="lobby in messages.lobby">
      <button ng-click="messages.joinLobby(lobby);">Chat with {{lobby.lobbyname}}</button>
    </div>

    <div id="chatBox">
      <div class="startChat" ng-repeat="text in messages.receiveMessageText track by $index" my-repeat-directive>{{text.user}} {{text.msg}}</div>
    </div>
    <h3 class='head-space-md'>Send a Message</h3>

    <form ng-submit="messages.sendMessage()">
      <input type="text" autocomplete="off" ng-model="messages.messageText" required/>
      <input type="submit" value="send msg"/>
    </form>

  </div>
</section>
